import{s as W,n as H,d as j}from"../chunks/scheduler.NK3U3WA8.js";import{S as X,i as Y,e as k,s as P,t as N,c as y,m as L,f as w,a as D,d as o,b as O,n as C,w as z,g as I,h as A,j as V,x as Z,o as Q,r as R}from"../chunks/index.DFRbstav.js";import{e as U}from"../chunks/each.AC3BWejJ.js";function F(a,t,s){const l=a.slice();return l[12]=t[s],l[14]=s,l}function J(a){let t,s,l,i,r,_,u,v,d;function p(){return a[8](a[14])}return{c(){t=k("div"),s=k("img"),i=P(),r=k("div"),_=P(),this.h()},l(m){t=y(m,"DIV",{class:!0});var g=D(t);s=y(g,"IMG",{src:!0,alt:!0,class:!0}),i=w(g),r=y(g,"DIV",{class:!0}),D(r).forEach(o),_=w(g),g.forEach(o),this.h()},h(){j(s.src,l=a[12].image)||C(s,"src",l),C(s,"alt","Card front"),C(s,"class","front svelte-vs0u9p"),C(r,"class","back svelte-vs0u9p"),C(t,"class",u="card "+(a[12].flipped?"flipped":"")+" svelte-vs0u9p")},m(m,g){I(m,t,g),A(t,s),A(t,i),A(t,r),A(t,_),v||(d=Q(t,"click",p),v=!0)},p(m,g){a=m,g&1&&!j(s.src,l=a[12].image)&&C(s,"src",l),g&1&&u!==(u="card "+(a[12].flipped?"flipped":"")+" svelte-vs0u9p")&&C(t,"class",u)},d(m){m&&o(t),v=!1,d()}}}function K(a){let t,s,l,i,r,_="Play Again",u,v;return{c(){t=k("div"),s=k("h2"),l=N(a[5]),i=P(),r=k("button"),r.textContent=_,this.h()},l(d){t=y(d,"DIV",{style:!0});var p=D(t);s=y(p,"H2",{});var m=D(s);l=O(m,a[5]),m.forEach(o),i=w(p),r=y(p,"BUTTON",{"data-svelte-h":!0}),L(r)!=="svelte-3o5fyv"&&(r.textContent=_),p.forEach(o),this.h()},h(){R(t,"text-align","center"),R(t,"margin-top","20px")},m(d,p){I(d,t,p),A(t,s),A(s,l),A(t,i),A(t,r),u||(v=Q(r,"click",a[7]),u=!0)},p(d,p){p&32&&V(l,d[5])},d(d){d&&o(t),u=!1,v()}}}function x(a){let t,s="Memory",l,i,r,_,u,v,d,p,m,g,M,S,E,c=U(a[0]),n=[];for(let e=0;e<c.length;e+=1)n[e]=J(F(a,c,e));let b=a[4]&&K(a);return{c(){t=k("h1"),t.textContent=s,l=P(),i=k("main");for(let e=0;e<n.length;e+=1)n[e].c();r=P(),b&&b.c(),_=P(),u=k("aside"),v=k("p"),d=N(a[1]),p=P(),m=k("aside"),g=k("p"),M=N(a[2]),S=P(),E=k("aside"),this.h()},l(e){t=y(e,"H1",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-d4dgzr"&&(t.textContent=s),l=w(e),i=y(e,"MAIN",{class:!0});var f=D(i);for(let G=0;G<n.length;G+=1)n[G].l(f);f.forEach(o),r=w(e),b&&b.l(e),_=w(e),u=y(e,"ASIDE",{class:!0});var h=D(u);v=y(h,"P",{class:!0});var T=D(v);d=O(T,a[1]),T.forEach(o),h.forEach(o),p=w(e),m=y(e,"ASIDE",{class:!0});var q=D(m);g=y(q,"P",{class:!0});var B=D(g);M=O(B,a[2]),B.forEach(o),q.forEach(o),S=w(e),E=y(e,"ASIDE",{class:!0}),D(E).forEach(o),this.h()},h(){C(t,"class","svelte-vs0u9p"),C(i,"class","svelte-vs0u9p"),C(v,"class","svelte-vs0u9p"),C(u,"class","blue svelte-vs0u9p"),C(g,"class","svelte-vs0u9p"),C(m,"class","svelte-vs0u9p"),C(E,"class","turn svelte-vs0u9p"),z(E,"blue",a[3])},m(e,f){I(e,t,f),I(e,l,f),I(e,i,f);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(i,null);I(e,r,f),b&&b.m(e,f),I(e,_,f),I(e,u,f),A(u,v),A(v,d),I(e,p,f),I(e,m,f),A(m,g),A(g,M),I(e,S,f),I(e,E,f)},p(e,[f]){if(f&65){c=U(e[0]);let h;for(h=0;h<c.length;h+=1){const T=F(e,c,h);n[h]?n[h].p(T,f):(n[h]=J(T),n[h].c(),n[h].m(i,null))}for(;h<n.length;h+=1)n[h].d(1);n.length=c.length}e[4]?b?b.p(e,f):(b=K(e),b.c(),b.m(_.parentNode,_)):b&&(b.d(1),b=null),f&2&&V(d,e[1]),f&4&&V(M,e[2]),f&8&&z(E,"blue",e[3])},i:H,o:H,d(e){e&&(o(t),o(l),o(i),o(r),o(_),o(u),o(p),o(m),o(S),o(E)),Z(n,e),b&&b.d(e)}}}function $(a,t,s){let l=Array.from({length:6},(E,c)=>[{image:`/memory/images/card${c}.png`,index:c,flipped:!1,matched:!1},{image:`/memory/images/card${c}.png`,index:c,flipped:!1,matched:!1}]).flat();l=l.sort(()=>Math.random()-.5);let i=0,r=0,_=!0,u=[],v=0,d=!1,p="";function m(E){if(!(l[E].flipped||l[E].matched||v>=2||d)&&(s(0,l=l.map((c,n)=>n===E?{...c,flipped:!0}:c)),u.push(E),v++,v===2)){const[c,n]=u,b=l[c],e=l[n];b.index===e.index?(s(0,l[c].matched=!0,l),s(0,l[n].matched=!0,l),_?s(1,i++,i):s(2,r++,r)):setTimeout(()=>{s(3,_=!_)},1e3),setTimeout(()=>{l.forEach(f=>{f.flipped=f.matched}),v=0,u=[],g(),s(0,l)},1e3)}}function g(){l.every(E=>E.matched)&&(s(4,d=!0),i>r?s(5,p="Blue won!"):r>i?s(5,p="Red won!"):s(5,p="Draw!"))}function M(){s(1,i=0),s(2,r=0),s(3,_=!0),u=[],v=0,s(4,d=!1),s(5,p=""),s(0,l=Array.from({length:6},(E,c)=>[{image:`/memory/images/card${c}.png`,index:c,flipped:!1,matched:!1},{image:`/memory/images/card${c}.png`,index:c,flipped:!1,matched:!1}]).flat().sort(()=>Math.random()-.5))}return[l,i,r,_,d,p,m,M,E=>m(E)]}class le extends X{constructor(t){super(),Y(this,t,$,x,W,{})}}export{le as component};
